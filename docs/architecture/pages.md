# 画面一覧

## 概要

このドキュメントでは、授業動画配信プラットフォームの全画面を体系的に整理し、各画面の詳細仕様を定義します。product.mdとworkflow.mdに基づいて画面ごとの機能と仕様を記述しています。

## 画面分類

### ユーザー種別
一般ユーザー（受講者）、管理者（教育機関運営者・講師）、共通

## 一般ユーザー画面

### 1. 認証・登録

#### 1.1. ユーザー登録画面

**対象**: 一般ユーザー | **URL**: /register | **要件ID**: REQ-1-1

**画面の目的**
新規ユーザーがアカウントを作成し、プラットフォームを利用開始できるようにする

**主要機能**
- ユーザー情報の入力
- 入力バリデーション
- 自動ログイン

**表示要素**
- ページタイトル「新規登録」
- 登録フォーム
- 利用規約へのリンク

**入力項目**
- 名前: 必須, テキスト, 最大255文字
- メールアドレス: 必須, メール形式, 重複不可
- パスワード: 必須, 8文字以上, 英数字混在
- パスワード確認: 必須, パスワードと一致
- プロフィール画像: 任意, JPEG/PNG, 最大5MB

**ボタン/アクション**
- 登録ボタン: フォーム送信、バリデーション、登録処理
- ログインページへのリンク: ログイン画面へ遷移

**遷移先**
- 登録成功 → ダッシュボード（自動ログイン）
- 既にアカウント有り → ログイン画面

**バリデーション**
- 名前: 必須入力、最大255文字
- メールアドレス: 必須、メール形式、重複チェック
- パスワード: 必須、8文字以上、英数字混在
- プロフィール画像: JPEG/PNG形式、最大5MB

#### 1.2. ログイン画面

**対象**: 一般ユーザー | **URL**: /login | **要件ID**: REQ-1-2

**画面の目的**
既存ユーザーが認証してプラットフォームにアクセスする

**主要機能**
- メールアドレスとパスワードによる認証
- ログイン状態の維持（24時間）

**表示要素**
- ページタイトル「ログイン」
- ログインフォーム
- 新規登録へのリンク

**入力項目**
- メールアドレス: 必須, メール形式
- パスワード: 必須, 8文字以上

**ボタン/アクション**
- ログインボタン: 認証処理、ダッシュボードへ遷移
- 新規登録リンク: 登録画面へ遷移

**遷移先**
- ログイン成功 → ダッシュボード
- 新規登録 → 登録画面

**バリデーション**
- メールアドレス: 必須、メール形式
- パスワード: 必須、8文字以上
- 認証エラー時: エラーメッセージ表示

### 2. メイン機能

#### 2.1. ダッシュボード

**対象**: 一般ユーザー | **URL**: /dashboard | **要件ID**: REQ-3-1

**画面の目的**
動画一覧を表示し、検索・フィルタリングで目的の動画を見つける

**主要機能**
- 動画一覧表示（グリッド）
- 検索機能
- カテゴリ・タグによるフィルタリング
- ソート機能（新着順、人気順）

**表示要素**
- ページタイトル「ダッシュボード」
- 検索ボックス
- カテゴリフィルター
- タグフィルター
- 動画一覧（グリッド表示）
  - サムネイル画像
  - タイトル
  - 視聴回数
  - アップロード日
- ページネーション（1ページ20件）

**入力項目**
- 検索キーワード: 任意, テキスト
- カテゴリ選択: 任意, セレクトボックス
- タグ選択: 任意, 複数選択可

**ボタン/アクション**
- 検索ボタン: 検索実行
- 動画カード: 動画詳細画面へ遷移
- カテゴリフィルター: 絞り込み実行
- タグフィルター: 絞り込み実行

**遷移先**
- 動画カードクリック → 動画詳細画面
- プロフィールリンク → プロフィール画面

**バリデーション**
なし（すべて任意入力）

#### 2.2. 動画詳細・視聴画面

**対象**: 一般ユーザー | **URL**: /videos/{id} | **要件ID**: REQ-3-2

**画面の目的**
選択した動画を視聴し、関連情報を確認する

**主要機能**
- HTML5動画プレーヤーでの視聴
- 動画情報の表示
- 関連動画の表示
- 視聴履歴の記録

**表示要素**
- 動画プレーヤー
- 動画タイトル
- 説明文
- アップロード日
- 視聴回数
- カテゴリ・タグ
- 関連動画一覧（最大5件）

**入力項目**
なし

**ボタン/アクション**
- 再生/一時停止: 動画の再生制御
- 音量調整: 音量スライダー
- 全画面表示: フルスクリーン切替
- 戻るボタン: ダッシュボードへ戻る
- 関連動画クリック: 別の動画詳細画面へ遷移

**遷移先**
- 戻るボタン → ダッシュボード
- 関連動画 → 別の動画詳細画面

**バリデーション**
なし

**権限チェック**
ログイン必須

#### 2.3. プロフィール画面

**対象**: 一般ユーザー | **URL**: /profile | **要件ID**: REQ-1-3

**画面の目的**
ユーザー情報の確認・編集、視聴履歴の確認

**主要機能**
- プロフィール情報の表示
- プロフィール編集
- 視聴履歴の確認

**表示要素**
- プロフィール画像
- 名前
- メールアドレス
- 編集ボタン
- 視聴履歴一覧（動画タイトル、視聴日時、視聴時間）

**入力項目**（編集モード時）
- 名前: 必須, テキスト, 最大255文字
- プロフィール画像: 任意, JPEG/PNG, 最大5MB
- 現在のパスワード: 任意（パスワード変更時のみ必須）
- 新しいパスワード: 任意, 8文字以上
- 新しいパスワード確認: 任意, 新しいパスワードと一致

**ボタン/アクション**
- 編集ボタン: 編集モードへ切替
- 保存ボタン: 変更を保存
- キャンセルボタン: 編集をキャンセル
- 視聴履歴の動画タイトル: 動画詳細画面へ遷移

**遷移先**
- 視聴履歴の動画 → 動画詳細画面
- 保存成功 → プロフィール画面（表示モード）

**バリデーション**
- 名前: 必須、最大255文字
- プロフィール画像: JPEG/PNG形式、最大5MB
- 現在のパスワード: パスワード変更時は必須
- 新しいパスワード: 8文字以上、英数字混在

**権限チェック**
ログイン必須、本人のみ

## 管理者画面

### 3. 管理者認証

#### 3.1. 管理者ログイン画面

**対象**: 管理者 | **URL**: /admin/login | **要件ID**: REQ-1-2

**画面の目的**
管理者が認証して管理ダッシュボードにアクセスする

**主要機能**
- 管理者専用認証
- 権限チェック

**表示要素**
- ページタイトル「管理者ログイン」
- ログインフォーム

**入力項目**
- メールアドレス: 必須, メール形式
- パスワード: 必須, 8文字以上

**ボタン/アクション**
- ログインボタン: 認証処理、管理者ダッシュボードへ遷移

**遷移先**
- ログイン成功 → 管理者ダッシュボード
- 権限なし → 一般ログイン画面へリダイレクト

**バリデーション**
- メールアドレス: 必須、メール形式
- パスワード: 必須、8文字以上

**権限チェック**
管理者ロール必須

### 4. 管理機能

#### 4.1. 管理者ダッシュボード

**対象**: 管理者 | **URL**: /admin/dashboard | **要件ID**: 暗黙的要件

**画面の目的**
プラットフォームの統計情報を確認し、主要機能へ素早くアクセスする

**主要機能**
- 統計情報の表示
- 人気動画ランキング表示
- クイックアクション

**表示要素**
- 統計情報カード
  - 総動画数
  - 総ユーザー数
  - 今日の視聴回数
- 人気動画ランキング（最大10件）
- クイックアクションボタン
  - 動画アップロード
  - 動画管理
  - ユーザー管理

**入力項目**
なし

**ボタン/アクション**
- 動画アップロードボタン: 動画アップロード画面へ遷移
- 動画管理ボタン: 動画管理画面へ遷移
- ユーザー管理ボタン: ユーザー管理画面へ遷移
- 人気動画: 動画詳細画面へ遷移

**遷移先**
- 動画アップロード → 動画アップロード画面
- 動画管理 → 動画管理画面
- ユーザー管理 → ユーザー管理画面
- 人気動画 → 動画詳細画面

**バリデーション**
なし

**権限チェック**
管理者ロール必須

#### 4.2. 動画アップロード画面

**対象**: 管理者 | **URL**: /admin/videos/create | **要件ID**: REQ-2-1

**画面の目的**
新しい動画をアップロードし、プラットフォームで公開する

**主要機能**
- 動画ファイルのアップロード
- 動画情報の入力
- カテゴリ・タグの設定

**表示要素**
- ページタイトル「動画アップロード」
- アップロードフォーム
- アップロード進行状況バー

**入力項目**
- 動画ファイル: 必須, MP4形式, 最大2GB
- タイトル: 必須, テキスト, 最大255文字
- 説明文: 任意, テキストエリア, 最大5000文字
- カテゴリ: 必須, セレクトボックス
- タグ: 任意, テキスト, カンマ区切り
- サムネイル画像: 必須, JPEG/PNG, 最大5MB

**ボタン/アクション**
- アップロード開始ボタン: ファイルアップロード、データベース登録
- キャンセルボタン: 動画管理画面へ戻る

**遷移先**
- アップロード成功 → 動画管理画面
- キャンセル → 動画管理画面

**バリデーション**
- 動画ファイル: 必須、MP4形式、最大2GB
- タイトル: 必須、最大255文字
- 説明文: 最大5000文字
- カテゴリ: 必須
- サムネイル画像: 必須、JPEG/PNG形式、最大5MB

**権限チェック**
管理者ロール必須

#### 4.3. 動画管理画面

**対象**: 管理者 | **URL**: /admin/videos | **要件ID**: REQ-2-2

**画面の目的**
アップロード済み動画の一覧表示、編集、削除、公開制御を行う

**主要機能**
- 動画一覧表示
- 動画編集
- 動画削除
- 公開/非公開切替

**表示要素**
- ページタイトル「動画管理」
- 動画一覧テーブル
  - サムネイル
  - タイトル
  - アップロード日
  - 公開状態
  - 視聴回数
  - 操作ボタン（編集/削除/公開切替）
- ページネーション

**入力項目**
なし（一覧表示のみ）

**ボタン/アクション**
- 編集ボタン: 動画編集画面へ遷移
- 削除ボタン: 削除確認ダイアログ表示、削除実行
- 公開切替ボタン: Ajax処理で状態切替
- 動画アップロードボタン: 動画アップロード画面へ遷移

**遷移先**
- 編集ボタン → 動画編集画面
- 動画アップロード → 動画アップロード画面
- 削除成功 → 動画管理画面（更新）

**バリデーション**
なし

**権限チェック**
管理者ロール必須

#### 4.4. 動画編集画面

**対象**: 管理者 | **URL**: /admin/videos/{id}/edit | **要件ID**: REQ-2-2

**画面の目的**
既存動画の情報を編集する

**主要機能**
- 動画情報の編集
- カテゴリ・タグの変更
- サムネイル画像の変更

**表示要素**
- ページタイトル「動画編集」
- 編集フォーム（現在の値が入力済み）
- プレビュー表示

**入力項目**
- タイトル: 必須, テキスト, 最大255文字
- 説明文: 任意, テキストエリア, 最大5000文字
- カテゴリ: 必須, セレクトボックス
- タグ: 任意, テキスト, カンマ区切り
- サムネイル画像: 任意, JPEG/PNG, 最大5MB
- 動画ファイル再アップロード: 任意, MP4形式, 最大2GB

**ボタン/アクション**
- 保存ボタン: 変更を保存
- キャンセルボタン: 動画管理画面へ戻る

**遷移先**
- 保存成功 → 動画管理画面
- キャンセル → 動画管理画面

**バリデーション**
- タイトル: 必須、最大255文字
- 説明文: 最大5000文字
- カテゴリ: 必須
- サムネイル画像: JPEG/PNG形式、最大5MB
- 動画ファイル: MP4形式、最大2GB

**権限チェック**
管理者ロール必須

#### 4.5. ユーザー管理画面

**対象**: 管理者 | **URL**: /admin/users | **要件ID**: REQ-4-1

**画面の目的**
登録ユーザーの一覧表示、詳細確認、削除を行う

**主要機能**
- ユーザー一覧表示
- ユーザー詳細表示
- ユーザー削除

**表示要素**
- ページタイトル「ユーザー管理」
- ユーザー一覧テーブル
  - ユーザー名
  - メールアドレス
  - 登録日
  - 最終ログイン日
  - 視聴動画数
  - 操作ボタン（詳細/削除）
- ページネーション（1ページ50件）

**入力項目**
なし（一覧表示のみ）

**ボタン/アクション**
- 詳細ボタン: ユーザー詳細モーダル表示
- 削除ボタン: 削除確認ダイアログ表示、削除実行

**遷移先**
- 削除成功 → ユーザー管理画面（更新）

**バリデーション**
なし

**権限チェック**
管理者ロール必須

#### 4.6. カテゴリ・タグ管理画面

**対象**: 管理者 | **URL**: /admin/categories | **要件ID**: REQ-2-3

**画面の目的**
カテゴリとタグの作成、編集、削除を行う

**主要機能**
- カテゴリのCRUD操作
- タグのCRUD操作

**表示要素**
- ページタイトル「カテゴリ・タグ管理」
- カテゴリ一覧テーブル
  - カテゴリ名
  - 説明
  - 表示順
  - 操作ボタン（編集/削除）
- タグ一覧テーブル
  - タグ名
  - 操作ボタン（編集/削除）
- 追加ボタン

**入力項目**（追加・編集時）
- カテゴリ名: 必須, テキスト, 最大100文字
- カテゴリ説明: 任意, テキストエリア, 最大500文字
- 表示順: 必須, 数値
- タグ名: 必須, テキスト, 最大50文字

**ボタン/アクション**
- カテゴリ追加ボタン: 追加フォーム表示
- タグ追加ボタン: 追加フォーム表示
- 編集ボタン: 編集フォーム表示
- 削除ボタン: 削除確認、削除実行（紐づく動画がない場合のみ）
- 保存ボタン: 追加・編集を保存

**遷移先**
- 保存成功 → カテゴリ・タグ管理画面（更新）

**バリデーション**
- カテゴリ名: 必須、最大100文字
- カテゴリ説明: 最大500文字
- 表示順: 必須、数値
- タグ名: 必須、最大50文字
- 削除: 紐づく動画がないことを確認

**権限チェック**
管理者ロール必須

## 共通画面

### エラー画面

#### 404 Not Found

**対象**: 全ユーザー | **URL**: /404

**画面の目的**
存在しないページアクセス時のエラー表示

**表示要素**
- エラーメッセージ「お探しのページが見つかりません」
- エラーコード「404」
- トップページへのリンク

**ボタン/アクション**
- トップページへ戻るボタン: トップページへ遷移

**遷移先**
- トップページへ戻るボタン → トップページ

#### 500 Internal Server Error

**対象**: 全ユーザー | **URL**: /500

**画面の目的**
サーバーエラー発生時のエラー表示

**表示要素**
- エラーメッセージ「サーバーエラーが発生しました」
- エラーコード「500」
- サポート情報

**ボタン/アクション**
- トップページへ戻るボタン: トップページへ遷移

**遷移先**
- トップページへ戻るボタン → トップページ

#### 403 Forbidden

**対象**: 全ユーザー | **URL**: /403

**画面の目的**
権限不足時のエラー表示

**表示要素**
- エラーメッセージ「このページにアクセスする権限がありません」
- エラーコード「403」
- ダッシュボードへのリンク

**ボタン/アクション**
- ダッシュボードへ戻るボタン: ユーザー種別に応じたダッシュボードへ遷移

**遷移先**
- ダッシュボードへ戻るボタン → ダッシュボード

## レスポンシブ対応

tech.mdの互換性要件を参照

### 対応デバイス
- **PC**: 1920x1080以上推奨
- **タブレット**: 768px以上
- **スマートフォン**: 375px以上

### ブレークポイント
- **Large**: 1024px以上
- **Medium**: 768px - 1023px
- **Small**: 767px以下
